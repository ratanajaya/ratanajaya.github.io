(this.webpackJsonpcloudui=this.webpackJsonpcloudui||[]).push([[0],{1021:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(5),c=a.n(r),o=(a(531),a(58)),i=a(26),u=(a(532),a(533),a(11)),s=a(1063),m=a(1071),d=a(1073),p=a(1075),f=a(53),h=a(1069),g=a(1066),b=(a(1083),a(1084)),E=a(1085),v=a(1086),y=a(1087),x=a(1088),C=a(1089),O=a(1090),w=a(1091),j=a(1092),k=a(1093),P=a(451),I=a.n(P),S=a(128),D=a.n(S),T=a(104),A=a(22),N=a(42),F=a(1067),R=a(199),L=a(153),M=function(e){return function(t){var a=Object.assign({},t);return l.a.createElement(e,Object.assign({},a,{popInfo:function(e,t,a){g.a.info({title:e,content:l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null,t),l.a.createElement("pre",null,a?JSON.stringify(a,null,2):"")),onOk:function(){},width:500})},popError:function(e,t,a){g.a.error({title:e,content:l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null,t),l.a.createElement("pre",null,a?JSON.stringify(a,null,2):"")),onOk:function(){},width:500})},popApiError:function(e){if(null!==e.response&&void 0!==e.response){var t=e.response,a=t.status,n=t.statusText,r=t.data,c={title:"".concat(a," - ").concat(n),content:l.a.createElement("span",null,JSON.stringify(r,null,2)),onOk:function(){},width:500};a>=400&&a<500?g.a.warning(c):g.a.error(c)}else g.a.error({title:"No response",content:e.toString(),onOk:function(){},width:500})}}))}};function B(e){return e.charAt(0).toLowerCase()+e.slice(1)}function q(e,t){if(0===t)return 0;var a=e/t*100;return a<=100?a:100}function U(e,t,a){return Math.max(t,Math.min(e,a))}function z(e,t){var a=e.filter((function(e){return null!=e&&""!==e})),n=t||"/",l=new RegExp(n+"{1,}","g");return a.join(n).replace(l,n)}function V(e){return new Date(e).toLocaleString()}var G="https://wkrstorage.file.core.windows.net/library/[libRelPath]?sv=2020-02-10&ss=f&srt=o&sp=r&se=2022-03-08T01:36:14Z&st=2021-05-09T17:36:14Z&spr=https&sig=zNFZiJ0sRJw%2B0wbG5ndCoJF%2FitA03CzK4CNZYiXLvoI%3D&antiCache=[antiCache]",J="https://wkr.azurewebsites.net/",W=G,Y=G,H="".concat(J,"Main/"),K="".concat(J,"Sc/"),Q=W,_=Y;function Z(e,t){return"".concat(1===e?K:H).concat(t)}var X=function(e,t,a,n){var l=void 0!==n?encodeURIComponent(n):"";return Z(e,"GetAlbumCardModels?page=".concat(t,"&row=").concat(a,"&query=").concat(l))},$=function(e){return Z(e,"GetLibraryDirNodes")},ee=function(e){return Z(e,"UpdateAlbumOuterValue")},te=function(e,t){var a=encodeURIComponent(t);return Z(e,"RefreshAlbum?path=".concat(a))},ae=function(e,t,a){var n=encodeURIComponent(t);return Z(e,"GetAlbumPageInfos?path=".concat(n,"&includeDetail=").concat(null!==a&&void 0!==a&&a))},ne=function(e){return Z(e,"RescanDatabase")},le=function(e){return Z(e,"QuickScan")},re=function(e){return Z(e,"CleanLibrary")},ce=function(e,t){var a=null!==t&&void 0!==t?t:0,n=encodeURIComponent(e);return Q.replace("[apiBaseUrl]",J).replace("[libRelPath]",n).replace("[type]",a).replace("[antiCache]",(new Date).toISOString())},oe=function(e,t,a){var n=null!==a&&void 0!==a?a:0,l=encodeURIComponent(e);return _.replace("[apiBaseUrl]",J).replace("[libRelPath]",l).replace("[maxSize]",t).replace("[type]",n).replace("[antiCache]",(new Date).toISOString())};function ie(e){return Object(n.useEffect)((function(){e.onVisible()}),[e]),l.a.createElement(l.a.Fragment,null)}function ue(e,t){var a=3===t?{r:34,g:193,b:195}:2===t?{r:142,g:190,b:121}:{r:253,g:187,b:45},n=e<t?0:1;return"rgba(".concat(a.r,",").concat(a.g,",").concat(a.b,",").concat(n,")")}function se(e,t){return e>t&&(1===t||2===t)?"2px solid black":"0px"}function me(e){var t={width:"18px",height:"12px",marginRight:"2px",marginBottom:"2px"};return l.a.createElement(l.a.Fragment,null,"English"===e.language?l.a.createElement(L.a.GB,{style:t}):"Japanese"===e.language?l.a.createElement(L.a.JP,{style:t}):"Chinese"===e.language?l.a.createElement(L.a.CN,{style:t}):l.a.createElement(L.a.ID,{style:t}))}var de=M((function(e){var t={view:function(){e.onView(e.albumCm)},edit:function(){e.onEdit&&e.onEdit(e.albumCm.path)}},a=Object(R.b)({threshold:0,rootMargin:"300px 0px 300px 0px"}),n=Object(N.a)(a,3),r=n[0],c=n[1],o=(n[2],l.a.createElement(ie,{onVisible:t.edit}));return l.a.createElement("div",{ref:r,style:{paddingBottom:"8px",position:"relative",textAlign:"center"}},l.a.createElement("div",{style:{height:"150px",width:"100%"}},l.a.createElement(F.a,{overlay:o,trigger:["contextMenu"],disabled:!e.showContextMenu},l.a.createElement("div",{style:{display:"inline-block",position:"relative",height:"150px",width:"100%",maxWidth:"150px",borderLeft:e.albumCm.isRead?"":"1px solid #ddbe14"},onClick:t.view},c?l.a.createElement("img",{style:{objectFit:"contain",height:"100%",width:"100%"},src:oe(e.albumCm.coverInfo.uncPathEncoded,150,e.type),alt:"img"}):null,e.albumCm.isRead?"":l.a.createElement("div",{style:{position:"absolute",height:0,width:0,left:"0px",top:"0px",borderLeft:"15px solid #ddbe14",borderRight:"15px solid transparent",borderBottom:"15px solid transparent"}}),l.a.createElement("div",{style:{position:"absolute",right:"3px",bottom:"3px",color:"white",lineHeight:"0px"}},e.albumCm.languages.map((function(e,t){return l.a.createElement(me,{language:e,key:t})}))),l.a.createElement("div",{style:{position:"absolute",right:"0px",bottom:"0px",height:"100%",width:"2px"}},[3,2,1].map((function(t,a){return l.a.createElement("div",{key:"tierBar-".concat(a),style:{width:"100%",height:"33%",backgroundColor:ue(e.albumCm.tier,t),borderTop:se(e.albumCm.tier,t)}})}))),l.a.createElement("div",{style:{position:"absolute",left:"0px",bottom:"0px",width:"100%",height:"3px",backgroundColor:"white",display:e.albumCm.lastPageIndex>0?"block":"none"}},l.a.createElement("div",{style:{backgroundColor:"DodgerBlue",height:"100%",width:"".concat(q(e.albumCm.lastPageIndex+1,e.albumCm.pageCount),"%")}})),null!==e.albumCm.note&&""!==e.albumCm.note?l.a.createElement("div",{className:"album-flag"},e.albumCm.note):"",l.a.createElement("div",null)))),l.a.createElement("span",{style:{fontSize:"12px",lineHeight:1.1}},e.albumCm.fullTitle))})),pe=a(429),fe=a(1068),he=a(1076),ge=a(1077),be=a(1078),Ee=a(1079),ve=a(1080),ye=a(1081),xe=a(1065);var Ce=function(e){var t,a=Object(n.useState)(""),r=Object(u.a)(a,2),c=r[0],o=r[1];return Object(n.useEffect)((function(){o(e.initialValue)}),[e.initialValue]),l.a.createElement(g.a,{visible:e.visible,footer:null,centered:!0,closable:!1,onCancel:function(){return e.onClose()},style:{maxWidth:300,textAlign:"center"}},l.a.createElement(xe.a.TextArea,{value:c,onChange:function(e){return o(e.target.value)},rows:2}),l.a.createElement(f.a,{style:{width:"100%"},type:"primary",onClick:function(){e.onOk(c,e.initialValue),e.onClose()}},null!==(t=e.btnText)&&void 0!==t?t:"Rename"))},Oe=a(207),we=a(1070),je=a(69).default,ke=we.a.TreeNode,Pe=we.a.DirectoryTree;var Ie=M((function(e){var t=Object(n.useState)([]),a=Object(u.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(null),i=Object(u.a)(o,2),s=i[0],m=i[1];Object(n.useEffect)((function(){je.get($(1)).then((function(e){c(e.data)})).catch((function(t){e.popApiError(t)}))}),[]);var d={loadData:function(t){return new Promise((function(a){t.props.childs?a():je.get("".concat($(1),"?path=").concat(t.props.dataRef.name)).then((function(e){t.props.dataRef.childs=e.data,c((function(e){return Object(Oe.a)(e)})),a()})).catch((function(t){e.popApiError(t)}))}))},select:function(e){m(e)}};return l.a.createElement(g.a,{visible:e.visible,footer:null,centered:!0,closable:!1,onCancel:function(){return e.onClose()},style:{width:400,maxWidth:"95vh"}},l.a.createElement(Se,{nodes:r,onLoadData:d.loadData,onSelect:d.select}),l.a.createElement(f.a,{style:{width:"100%"},type:"primary",onClick:function(){e.onOk(s),e.onClose()}},"Move Here"))}));function Se(e){return l.a.createElement(Pe,{loadData:e.onLoadData,onSelect:function(t){return e.onSelect(t[0])}},function e(t){return t.map((function(t){return t.childs?l.a.createElement(ke,{title:t.name,key:t.name,dataRef:t},e(t.childs)):l.a.createElement(ke,{title:t.name,key:t.name,dataRef:t})}))}(e.nodes))}var De=function(e){var t=Object(n.useState)(0),a=Object(u.a)(t,2),r=a[0],c=a[1];Object(n.useEffect)((function(){c(e.initialValue+1)}),[e.initialValue]);var o=function(t){c(Math.min(Math.max(t,1),e.albumCm.pageCount))},i=Object(n.useState)(!1),s=Object(u.a)(i,2),m=s[0],h=s[1],b=Object(n.useState)(!1),E=Object(u.a)(b,2),v=E[0],y=E[1],x=Object(n.useState)(0),C=Object(u.a)(x,2),O=C[0],w=C[1];return Object(n.useEffect)((function(){void 0!==e.albumCm&&w(e.albumCm.tier)}),[e.albumCm]),void 0===e.albumCm?l.a.createElement(l.a.Fragment,null):l.a.createElement(l.a.Fragment,null,l.a.createElement(g.a,{visible:e.visible,onCancel:e.onCancel,footer:null,closable:!1,centered:!0,style:{maxWidth:300}},l.a.createElement(d.a,null,1!==e.type?l.a.createElement(p.a,{span:24,style:{marginBottom:15,textAlign:"center"}},l.a.createElement(fe.a,{count:3,value:O,onChange:function(t){w(t),e.onTierChange(t)},style:{fontSize:"40px"}})):"",l.a.createElement(p.a,{span:24},l.a.createElement(f.a,{type:"primary",onClick:function(){return e.onRecount()},style:{width:"100%"}},l.a.createElement(he.a,null),"Recount Pages")),l.a.createElement(p.a,{span:12,style:{textAlign:"left",marginTop:5}},l.a.createElement("input",{type:"number",value:r,onChange:function(e){return o(e.target.value)},style:{width:"97%",padding:"4px",WebkitBoxSizing:"border-box",borderRadius:"5px",color:"black"}})),l.a.createElement(p.a,{span:6,style:{textAlign:"left",marginTop:5}},l.a.createElement(f.a,{type:"ghost",style:{width:"97%",color:"white"},onClick:function(){return o(r-1)}},"-")),l.a.createElement(p.a,{span:6,style:{textAlign:"right",marginTop:5}},l.a.createElement(f.a,{type:"ghost",style:{width:"97%",color:"white"},onClick:function(){return o(r+1)}},"+")),l.a.createElement(p.a,{span:24,style:{marginTop:5}},l.a.createElement(f.a,{type:"primary",onClick:function(){return e.onJump(r-1)},style:{width:"100%"}},l.a.createElement(ge.a,null),"Jump")),l.a.createElement(p.a,{span:24,style:{marginTop:5}},l.a.createElement(f.a,{type:"primary",onClick:function(){return e.onUndoJump()},style:{width:"100%"}},l.a.createElement(be.a,null),"Undo Jump")),l.a.createElement(p.a,{span:24,style:{marginTop:5}},l.a.createElement(f.a,{type:"primary",onClick:function(){e.onCancel(),h(!0)},style:{width:"100%"}},l.a.createElement(Ee.a,null),"Rename Page")),1===e.type?l.a.createElement(p.a,{span:24,style:{marginTop:5}},l.a.createElement(f.a,{type:"primary",onClick:function(){e.onCancel(),y(!0)},style:{width:"100%"}},l.a.createElement(ve.a,null),"Move Page")):"",l.a.createElement(p.a,{span:24,style:{marginTop:5}},l.a.createElement(f.a,{type:"danger",onClick:function(){e.onCancel(),e.onDelete()},style:{width:"100%"}},l.a.createElement(ye.a,null),"Delete Page")))),l.a.createElement(Ce,{visible:m,onClose:function(){return h(!1)},initialValue:e.pageName,onOk:e.onRename}),1===e.type?l.a.createElement(Ie,{visible:v,onClose:function(){return y(!1)},onOk:e.onMove}):"")},Te=a(1082),Ae=g.a.confirm,Ne=a(69).default;var Fe=M((function(e){var t=Object(n.useState)([]),a=Object(u.a)(t,2),r=a[0],c=a[1];Object(n.useEffect)((function(){void 0!==e.albumPath&&Ne.get(function(e,t){var a=encodeURIComponent(t);return Z(e,"GetAlbumChapters?path=".concat(a))}(e.type,e.albumPath)).then((function(e){c(e.data)})).catch((function(t){e.popApiError(t)}))}),[e.albumPath]);var o=function(e){console.log("rename ",e)},i=function(t){console.log("delete ",t),Ae({title:"Delete chapter ".concat(t,"?"),icon:l.a.createElement(Te.a,null),okText:"\xa0\xa0\xa0Yes\xa0\xa0\xa0",okType:"danger",cancelText:"\xa0\xa0\xa0No\xa0\xa0\xa0",onOk:function(){Ne.delete(function(e,t,a){var n=encodeURIComponent(t),l=encodeURIComponent(a);return Z(e,"DeleteAlbumChapter?path=".concat(n,"&chapterName=").concat(l))}(e.type,e.albumPath,t)).then((function(a){console.log("newPageCount",a.data),e.onChapterDeleteSuccess(a.data),c(r.filter((function(e){return e.title!==t})))})).catch((function(t){e.popApiError(t)}))},onCancel:function(){}})};return l.a.createElement(h.a,{placement:"left",closable:!1,onClose:e.onClose,visible:e.visible},l.a.createElement("div",{style:{padding:"10px"}},r.map((function(t,a){return l.a.createElement(d.a,{style:{marginBottom:"5px"},key:t.title},l.a.createElement(F.a,{overlay:l.a.createElement(m.a,null,l.a.createElement(m.a.Item,{key:"1",onClick:function(){return o(t.title)}},l.a.createElement(Ee.a,null),"Rename"),l.a.createElement(m.a.Item,{key:"2",onClick:function(){return i(t.title)}},l.a.createElement(ye.a,null),"Delete")),trigger:["contextMenu"]},l.a.createElement(p.a,{span:10,onClick:function(){return e.onJumpToPage(t.pageIndex)}},l.a.createElement("img",{style:{objectFit:"contain",width:"100%",maxHeight:"128px",border:"1px solid white"},src:oe(t.pageUncPath,150,e.type),alt:"img"}))),l.a.createElement(p.a,{span:14},l.a.createElement("span",{style:{color:"white"}},t.title)))})),";"))})),Re=a(428),Le=a.n(Re),Me=a(68),Be=a(144),qe=a.n(Be),Ue=g.a.confirm,ze=a(69).default,Ve=function(e){return function(t){var a=Object.assign({},t);return l.a.createElement(e,Object.assign({},a,{deletePage:function(e,t,n){Ue({title:"Delete ".concat(e.alRelPath,"?"),icon:l.a.createElement(Te.a,null),okText:"\xa0\xa0\xa0YES\xa0\xa0\xa0",okType:"danger",cancelText:"\xa0\xa0\xa0NO\xa0\xa0\xa0",onOk:function(){ze.delete(function(e,t,a){var n=encodeURIComponent(t),l=encodeURIComponent(a);return Z(e,"DeleteFile?path=".concat(n,"&alRelPath=").concat(l))}(a.type,e.albumPath,e.alRelPath)).then((function(e){t(e)})).catch((function(e){n(e)}))},onCancel:function(){}})},movePage:function e(t,n,r){var c;ze.post((c=a.type,Z(c,"MoveFile")),t).then((function(a){"Destination file already exist"===a.data.message?Ue({title:"Overwrite?",icon:l.a.createElement(Te.a,null),content:l.a.createElement(Ge,{file1:a.data.srcInfo,file2:a.data.dstInfo}),okText:"\xa0\xa0\xa0YES\xa0\xa0\xa0",okType:"danger",cancelText:"\xa0\xa0\xa0NO\xa0\xa0\xa0",onOk:function(){e(Object(Me.a)({},t,{overwrite:!0}),n)},onCancel:function(){}}):n(a)})).catch((function(e){r(e)}))}}))}};function Ge(e){var t=e.file1,a=e.file2;return l.a.createElement("table",{class:"comparison-table",style:{width:"100%"}},l.a.createElement("tr",null,l.a.createElement("th",null,"Source"),l.a.createElement("th",null,"Destination")),l.a.createElement("tr",null,l.a.createElement("td",null,t.name),l.a.createElement("td",null,a.name)),l.a.createElement("tr",null,l.a.createElement("td",{style:n(t.size,a.size)},(t.size/1024).toFixed(2)," KB"),l.a.createElement("td",{style:n(a.size,t.size)},(a.size/1024).toFixed(2)," KB")),l.a.createElement("tr",null,l.a.createElement("td",{style:n(t.createdDate,a.createdDate)},qe()(t.createdDate).format("YYYY-MM-DD hh:mm")),l.a.createElement("td",{style:n(a.createdDate,t.createdDate)},qe()(a.createdDate).format("YYYY-MM-DD hh:mm"))));function n(e,t){return{fontWeight:e>t?"bold":"normal"}}}var Je=a(69).default;var We=function(e){return{content:{position:"relative",top:"0%",width:"100%",textAlign:"center",backgroundColor:e?"rgba(200, 200, 200, 0.3)":"rgba(0, 0, 0, 0)"},button:{position:"relative",boxSizing:"border-box",border:e?"1px solid black":"0px"}}},Ye=function(e,t){return e?l.a.createElement("span",{style:{textAlign:"center",margin:"auto",textShadow:"-1px 0 black, 0 1px black, 1px 0 black, 0 -1px black"}},t):""};function He(e){var t=e.isLandscape?{transform:"translatex(calc(50vw - 50%)) translatey(calc(50vh - 50%)) rotate(90deg)",width:"100vh",height:"100vw"}:{transform:"translatex(calc(50vw - 50%)) translatey(calc(50vh - 50%))",width:"100vw",height:"100vh"},a=Object(A.a)({objectFit:"contain"},t),n={objectFit:"contain",height:0,width:0,position:"absolute"};return console.log("pageDisplay",e),function(e){if(".webm"===e||".mp4"===e)return!0;return!1}(e.pageInfo.extension)?l.a.createElement("video",{autoPlay:!0,loop:!0,id:e.id,style:"q0"===e.queue?a:n,src:"q0"===e.queue?ce("".concat(e.albumPath,"\\").concat(e.pageInfo.uncPathEncoded),e.type):""},"video not showing"):l.a.createElement("img",{id:e.id,style:"q0"===e.queue?a:n,src:"q0"===e.queue||"q1"===e.queue?ce("".concat(e.albumPath,"\\").concat(e.pageInfo.uncPathEncoded),e.type):Le.a,alt:"Not loaded"})}var Ke=Ve(M((function(e){var t=Object(n.useState)({path:null,lpi:0,pages:[],indexes:{cPageI:0,pPageI:0,triad:"zenpen",zenpenIndex:0,chuhenIndex:0,kouhenIndex:0},isLandscape:!1,includeDetail:!1}),a=Object(u.a)(t,2),r=a[0],c=a[1];Object(n.useEffect)((function(){void 0!==e.albumCm&&null!==e.albumCm&&e.albumCm.path!==r.path&&Je.get(ae(e.type,e.albumCm.path,r.includeDetail)).then((function(t){c({path:e.albumCm.path,lpi:e.albumCm.lastPageIndex,isLandscape:"Landscape"===t.data.orientation,pages:t.data.fileInfos,indexes:null,includeDetail:r.includeDetail}),e.albumCm.pageCount!==t.data.fileInfos.length&1!==e.type&&(console.log("PageCount (".concat(e.albumCm.pageCount,") does not match fileInfos length (").concat(t.data.fileInfos.length,")")),Je.get(te(e.type,e.albumCm.path)).then((function(e){})).catch((function(t){e.popApiError(t)})))})).catch((function(t){e.popApiError(t)}))}),[e.albumCm]),Object(n.useEffect)((function(){var e=r.lpi<r.pages.length?r.lpi:r.pages.length-1;i.jumpTo(e)}),[r.path]),Object(n.useEffect)((function(){return document.addEventListener("keydown",o,!1),function(){document.removeEventListener("keydown",o,!1)}}),[]);var o=function(e){27===e.keyCode&&i.close()},i={jumpTo:function(t,a){var n,l,o=r.pages.length-1,i=null!==(n=null===(l=r.indexes)||void 0===l?void 0:l.cPageI)&&void 0!==n?n:0,u=U(t,0,o),s=function(){function e(e,t,a,n){return{newTriad:e,zenpenIndex:t,chuhenIndex:a,kouhenIndex:n}}function t(e){var t=r.pages.length;return((u+e)%t+t)%t}return u%3===0?e("zenpen",u,t(1),t(-1)):u%3===1?e("chuhen",t(-1),u,t(1)):u%3===2?e("kouhen",t(1),t(-1),u):void 0}(),m=s.newTriad,d=s.zenpenIndex,p=s.chuhenIndex,f=s.kouhenIndex,h=r.pages;null!==a&&void 0!==a&&(h[a.index]=a.newPageInfo),c({indexes:{cPageI:u,pPageI:i,triad:m,zenpenIndex:d,chuhenIndex:p,kouhenIndex:f},path:r.path,lpi:r.lpi,isLandscape:r.isLandscape,includeDetail:r.includeDetail,pages:h}),null!=r.path&&t===r.pages.length-1&&1!==e.type&&Je.post(ee(e.type),{albumPath:r.path,lastPageIndex:t}).then((function(e){})).catch((function(t){e.popApiError(t)}))},rename:function(t,a){var n=S.uncPathEncoded,l=function(){var e=S.uncPathEncoded.split("\\");return e.pop(),e.push(t),z(e,"\\")}(),o={overwrite:!1,src:{albumPath:r.path,alRelPath:n},dst:{albumPath:r.path,alRelPath:l}};e.movePage(o,(function(e){var a=r.pages.findIndex((function(e){return e.uncPathEncoded===n})),o=r.pages.splice(a,1)[0],i=Object(A.a)({},o,{name:t,uncPathEncoded:l});r.pages=r.pages.filter((function(e){return e.uncPathEncoded!==l})),r.pages.push(i),r.pages.sort((function(e,t){return e.uncPathEncoded.localeCompare(t.uncPathEncoded)})),c((function(e){return Object(A.a)({},e)}))}),(function(t){e.popApiError(t)}))},move:function(t){console.log("reader model move",t);var a=S.uncPathEncoded,n={overwrite:!1,src:{albumPath:r.path,alRelPath:a},dst:{albumPath:t,alRelPath:S.name}};e.movePage(n,(function(e){s(S.uncPathEncoded),c((function(e){return Object(A.a)({},e)}))}),(function(t){e.popApiError(t)}))},delete:function(t){var a={albumPath:r.path,alRelPath:t.uncPathEncoded};e.deletePage(a,(function(e){s(t.uncPathEncoded),c((function(e){return Object(A.a)({},e)}))}),(function(t){e.popApiError(t)}))},close:function(){e.onClose(r.path,r.indexes.cPageI)},chapterDeleteSuccess:function(t){e.onChapterDeleteSuccess(r.path,t),Je.get(ae(e.type,e.albumCm.path)).then((function(t){var a=m(r.indexes,t.data.fileInfos.length-1);c({path:e.albumCm.path,lpi:e.albumCm.lastPageIndex,isLandscape:"Landscape"===t.data.orientation,pages:t.data.fileInfos,indexes:Object(A.a)({},r.indexes,{},a),includeDetail:r.includeDetail})})).catch((function(t){e.popApiError(t)}))}};function s(e){var t=r.pages.length-2,a=m(r.indexes,t);r.indexes=Object(A.a)({},r.indexes,{},a),r.pages=r.pages.filter((function(t){return t.uncPathEncoded!==e}))}function m(e,t){return{cPageI:U(e.cPageI,0,t),pPageI:U(e.pPageI,0,t),zenpenIndex:U(e.zenpenIndex,0,t),chuhenIndex:U(e.chuhenIndex,0,t),kouhenIndex:U(e.kouhenIndex,0,t)}}function f(){var t=!r.includeDetail;t&&null===r.pages[0].createDate?Je.get(ae(e.type,e.albumCm.path,t)).then((function(e){c((function(a){return a.includeDetail=t,a.pages=e.data.fileInfos,Object(A.a)({},a)}))})).catch((function(t){e.popApiError(t)})):c((function(e){return e.includeDetail=t,Object(A.a)({},e)}))}var h={tierChange:function(t){var a;Je.put((a=e.type,Z(a,"UpdateAlbumTier")),{albumPath:r.path,tier:t}).then((function(e){console.log(e.data)})).catch((function(t){e.popApiError(t)}))},recount:function(){Je.get(function(e,t){var a=encodeURIComponent(t);return Z(e,"RecountAlbumPages?path=".concat(a))}(e.type,r.path)).then((function(t){console.log("new page count",t.data),e.onChapterDeleteSuccess(r.path,t.data)})).catch((function(t){e.popApiError(t)}))}},g=Object(n.useState)(!1),b=Object(u.a)(g,2),E=b[0],v=b[1],y=Object(n.useState)(!1),x=Object(u.a)(y,2),C=x[0],O=x[1],w={rightTop:function(){r.isLandscape?O(!0):i.close()},rightMid:function(){r.isLandscape?f():i.jumpTo(r.indexes.cPageI+1)},rightBot:function(){r.isLandscape?i.close():i.jumpTo(r.pages.length-1)},midTop:function(){r.isLandscape?i.jumpTo(r.indexes.cPageI-1):f()},midMid:function(){v(!0)},midBot:function(){r.isLandscape&&i.jumpTo(r.indexes.cPageI+1)},leftTop:function(){r.isLandscape?i.jumpTo(0):O(!0)},leftMid:function(){r.isLandscape||i.jumpTo(r.indexes.cPageI-1)},leftBot:function(){r.isLandscape?i.jumpTo(r.pages.length-1):i.jumpTo(0)}},j=Object(pe.useSwipeable)({onSwipedUp:function(e){r.isLandscape&&i.jumpTo(r.indexes.cPageI+1)},onSwipedDown:function(e){r.isLandscape&&i.jumpTo(r.indexes.cPageI-1)},onSwipedLeft:function(e){r.isLandscape||i.jumpTo(r.indexes.cPageI+1)},onSwipedRight:function(e){r.isLandscape||i.jumpTo(r.indexes.cPageI-1)}}),k=null!==r.indexes&&0===r.indexes.cPageI,P=We(k),I={side:Object(A.a)({},P.button,{minHeight:.25*window.innerHeight}),mid:Object(A.a)({},P.button,{minHeight:.5*window.innerHeight})};if(null===r.indexes||0===r.pages.length)return l.a.createElement(l.a.Fragment,null);console.log("currentApm",r);var S="zenpen"===r.indexes.triad?r.pages[r.indexes.zenpenIndex]:"chuhen"===r.indexes.triad?r.pages[r.indexes.chuhenIndex]:"kouhen"===r.indexes.triad?r.pages[r.indexes.kouhenIndex]:null,D=l.a.createElement(He,{id:"zenpen-page",albumPath:r.path,pageInfo:r.pages[r.indexes.zenpenIndex],queue:"zenpen"===r.indexes.triad?"q0":"kouhen"===r.indexes.triad?"q1":"q2",isLandscape:r.isLandscape,type:e.type,DEBUGPageTriad:"zenpen"}),T=l.a.createElement(He,{id:"chuhen-page",albumPath:r.path,pageInfo:r.pages[r.indexes.chuhenIndex],queue:"chuhen"===r.indexes.triad?"q0":"zenpen"===r.indexes.triad?"q1":"q2",isLandscape:r.isLandscape,type:e.type,DEBUGPageTriad:"chuhen"}),N=l.a.createElement(He,{id:"kouhen-page",albumPath:r.path,pageInfo:r.pages[r.indexes.kouhenIndex],queue:"kouhen"===r.indexes.triad?"q0":"chuhen"===r.indexes.triad?"q1":"q2",isLandscape:r.isLandscape,type:e.type,DEBUGPageTriad:"kouhen"});return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"overlay overlay-reader",style:{display:e.isOpen?"block":"none",zIndex:1}},l.a.createElement("div",{style:{height:"100vh",position:"absolute",left:0,top:0}},D,T,N),l.a.createElement("div",{className:"overlay",style:{zIndex:2}},l.a.createElement("div",{className:"overlay-content"},l.a.createElement("span",{className:"with-shadow"},S.name),l.a.createElement("div",{style:{position:"fixed",bottom:"0px",width:"100%",textAlign:"center"}},l.a.createElement("span",{className:"with-shadow"},r.indexes.cPageI+1,"/",r.pages.length)))),r.includeDetail?l.a.createElement("div",{className:"overlay",style:{zIndex:3}},l.a.createElement("div",{className:"overlay-content"},l.a.createElement(d.a,null,l.a.createElement(p.a,{span:6},l.a.createElement("div",{style:I.side})),l.a.createElement(p.a,{span:12},l.a.createElement("div",{style:I.side})),l.a.createElement(p.a,{span:6},l.a.createElement("div",{className:"with-shadow",style:Object(A.a)({textAlign:"left"},I.side)},l.a.createElement("div",null,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";var a=1024,n=t<0?0:t,l=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],r=Math.floor(Math.log(e)/Math.log(a));return parseFloat((e/Math.pow(a,r)).toFixed(n))+" "+l[r]}(S.size,0)),l.a.createElement("div",null,V(S.createDate)),l.a.createElement("div",null,V(S.updateDate))))))):l.a.createElement(l.a.Fragment,null),l.a.createElement("div",{className:"overlay",style:{zIndex:4}},l.a.createElement("div",Object.assign({style:P.content},j),l.a.createElement(d.a,null,l.a.createElement(p.a,{span:6},l.a.createElement("div",{onClick:w.leftTop,style:I.side},Ye(k,"Browse Chapters"))),l.a.createElement(p.a,{span:12},l.a.createElement("div",{onClick:w.midTop,style:I.side},Ye(k,"Show File Info"))),l.a.createElement(p.a,{span:6},l.a.createElement("div",{onClick:w.rightTop,style:I.side},Ye(k,"Close Album")))),l.a.createElement(d.a,null,l.a.createElement(p.a,{span:6},l.a.createElement("div",{onClick:w.leftMid,style:I.mid},Ye(k,"Previous Page"))),l.a.createElement(p.a,{span:12},l.a.createElement("div",{onClick:w.midMid,style:I.mid},Ye(k,"Context Menu"))),l.a.createElement(p.a,{span:6},l.a.createElement("div",{onClick:w.rightMid,style:I.mid},Ye(k,"Next Page")))),l.a.createElement(d.a,null,l.a.createElement(p.a,{span:6},l.a.createElement("div",{onClick:w.leftBot,style:I.side},Ye(k,"First Page"))),l.a.createElement(p.a,{span:12},l.a.createElement("div",{onClick:w.midBot,style:I.side})),l.a.createElement(p.a,{span:6},l.a.createElement("div",{onClick:w.rightBot,style:I.side},Ye(k,"Last Page"))))))),l.a.createElement(De,{visible:E,albumCm:e.albumCm,initialValue:r.indexes.cPageI,pageName:S.name,type:e.type,onTierChange:h.tierChange,onRecount:function(){h.recount(),v(!1)},onJump:function(e){i.jumpTo(e),v(!1)},onUndoJump:function(){i.jumpTo(r.indexes.pPageI),v(!1)},onRename:function(e,t){i.rename(e,t),v(!1)},onMove:function(e){i.move(e),v(!1)},onDelete:function(){i.delete(S),v(!1)},onCancel:function(){return v(!1)}}),l.a.createElement(Fe,{visible:C,albumPath:r.path,type:e.type,onClose:function(){return O(!1)},onJumpToPage:i.jumpTo,onChapterDeleteSuccess:i.chapterDeleteSuccess}))}))),Qe=a(203),_e=(g.a.confirm,a(69).default);var Ze=Object(i.g)(M((function(e){console.log("selfComps rendering"),Object(n.useEffect)((function(){window.scrollTo(0,0)}),[]);var t=Object(n.useState)([]),a=Object(u.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(null),i=Object(u.a)(o,2),s=i[0],m=i[1],f=Object(n.useState)(!1),h=Object(u.a)(f,2),g=h[0],b=h[1],E=function(){return new Promise((function(t,a){var n=e.queryParts.path,l=null!==n&&void 0!==n?n:"";_e.get(X(1,0,0,l)).then((function(e){c(e.data),console.log("sc albums",e.data),t("param from resolve")})).catch((function(t){e.popApiError(t),a("param from reject")}))}))};Object(n.useEffect)((function(){E()}),[e.queryParts]);var v={view:function(t,a){0===t?e.history.push("Sc?path="+a.path):(m(a),b(!0))},close:function(t,a){b(!1),_e.post(ee(1),{albumPath:t,lastPageIndex:a}).then((function(e){})).catch((function(t){e.popApiError(t)})),c(r.map((function(e,n){return e.path!==t?e:Object(A.a)({},e,{lastPageIndex:a})})))}},y={pageDeleteSuccess:function(e){c(r.map((function(t,a){return t.path!==e?t:Object(A.a)({},t,{pageCount:t.pageCount-1})})))},chapterDeleteSuccess:function(e,t){c(r.map((function(a,n){return a.path!==e?a:Object(A.a)({},a,{pageCount:t,lastPageIndex:0})})))}};return l.a.createElement(l.a.Fragment,null,l.a.createElement(Qe.a,{onRefresh:E},l.a.createElement(d.a,{gutter:0,type:"flex"},r.map((function(e,t){return l.a.createElement(p.a,{style:{textAlign:"center"},lg:3,md:6,xs:12,key:"albumCol"+e.path},l.a.createElement(de,{index:t,albumCm:e,onView:function(t){return v.view(e.pageCount,t)},showContextMenu:!0,type:1}))})))),l.a.createElement(Ke,{isOpen:g,onClose:v.close,onPageDeleteSuccess:y.pageDeleteSuccess,onChapterDeleteSuccess:y.chapterDeleteSuccess,albumCm:s,type:1}))})));var Xe=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(d.a,{gutter:[0,8]},l.a.createElement(p.a,{sm:7},l.a.createElement("label",null,e.label)),l.a.createElement(p.a,{sm:17},l.a.createElement(xe.a,{placeholder:e.placeholder,value:e.value,onChange:function(t){e.onChange(e.label,t.target.value)}}))))};var $e=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(d.a,{gutter:[0,8]},l.a.createElement(p.a,{span:7},l.a.createElement("label",null,e.label)),l.a.createElement(p.a,{span:17},l.a.createElement(fe.a,{count:3,value:e.value,onChange:function(t){e.onChange(e.label,t)}}))))},et=a(1072);var tt=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(d.a,{gutter:[0,8]},l.a.createElement(p.a,{sm:7},l.a.createElement("label",null,e.label)),l.a.createElement(p.a,{sm:17},l.a.createElement(et.a.Group,{onChange:function(t){e.onChange(e.label,t.target.value)},value:e.value,style:{width:"100%"}},l.a.createElement(d.a,null,e.items.map((function(e){return l.a.createElement(p.a,{span:8,key:e},l.a.createElement(et.a,{key:e,value:e},l.a.createElement("span",{style:{color:"white"}},e)))})))))))},at=a(1074);var nt=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(d.a,{gutter:[0,8]},l.a.createElement(p.a,{span:7},l.a.createElement("label",null,e.label)),l.a.createElement(p.a,{span:17},l.a.createElement(at.a,{onChange:function(t){e.onChange(e.label,t.target.checked)},checked:e.value}))))};var lt=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(d.a,{gutter:[0,8]},l.a.createElement(p.a,{sm:7},l.a.createElement("label",null,e.label)),l.a.createElement(p.a,{sm:17},l.a.createElement(d.a,{gutter:2},e.items.map((function(t){return l.a.createElement(p.a,{span:8,key:t},l.a.createElement(f.a,{key:t,type:e.value.includes(t)?"primary":"link",ghost:!!e.value.includes(t),onClick:function(){return a=t,void e.onChange(e.label,a);var a},style:{width:"100%",textAlign:"left",marginBottom:"2px"}},t))}))))))},rt=a(632),ct=a(69).default;var ot=M((function(e){var t=Object(T.b)("".concat(H,"GetAlbumInfo")),a=t.data,r=t.error,c=Object(n.useState)({path:"",pageCount:0,lastPageIndex:0,album:{title:"",category:"Manga",orientation:"Portrait",artists:[],tags:[],languages:[],flags:[],tier:0,cover:"",isWip:!1,isRead:!1,entryDate:null}}),o=Object(N.a)(c,2),i=o[0],u=o[1];Object(n.useEffect)((function(){void 0!==e.albumPath&&ct.get(function(e,t){var a=encodeURIComponent(t);return Z(e,"GetAlbumVm?path=".concat(a))}(e.type,e.albumPath)).then((function(e){u(e.data)})).catch((function(t){e.popApiError(t)}))}),[e.albumPath]);var s={albumVmChange:function(e,t){var a=Object(Me.a)({},i),n=t;"Artists"===e?n=t.split(","):"Tags"!==e&&"Languages"!==e||((n=i.album[B(e)]).includes(t)?n=rt.pull(n,t):n.push(t)),a.album[B(e)]=n,u(a)},ok:function(){e.onOk(i)},cancel:function(){e.onCancel()},editFiles:function(){e.onEditFiles(i)},delete:function(){e.onDelete(i)},refresh:function(){e.onRefresh(i)}},m=l.a.createElement("div",{className:"ant-modal-root"},l.a.createElement("div",{className:"ant-modal-mask"}),l.a.createElement("div",{tabIndex:-1,className:"ant-modal-wrap",role:"dialog","aria-labelledby":"rcDialogTitle0",onClick:s.cancel},l.a.createElement("div",{role:"document",className:"my-ant-modal",onClick:function(e){return e.stopPropagation()}},l.a.createElement("div",{className:"ant-modal-content"},l.a.createElement("button",{onClick:s.cancel,type:"button","aria-label":"Close",className:"ant-modal-close"},l.a.createElement("span",{className:"ant-modal-close-x"},l.a.createElement("i",{"aria-label":"icon: close",className:"anticon anticon-close ant-modal-close-icon"},l.a.createElement("svg",{viewBox:"64 64 896 896",focusable:"false",className:"","data-icon":"close",fill:"currentColor","aria-hidden":"true",style:{height:"1em",width:"1em"}},l.a.createElement("path",{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 0 0 203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}))))),l.a.createElement("div",{className:"my-ant-modal-header"},l.a.createElement("div",{className:"my-ant-modal-title",id:"rcDialogTitle0"},"Edit Metadata")),l.a.createElement("div",{className:"my-ant-modal-body"},r?"album Info Fetching error":a?l.a.createElement(l.a.Fragment,null,l.a.createElement(Xe,{label:"Title",value:i.album.title,onChange:s.albumVmChange}),l.a.createElement(Xe,{label:"Artists",value:i.album.artists.join(),onChange:s.albumVmChange}),l.a.createElement(tt,{label:"Category",value:i.album.category,items:a.categories,onChange:s.albumVmChange}),l.a.createElement(tt,{label:"Orientation",value:i.album.orientation,items:a.orientations,onChange:s.albumVmChange}),l.a.createElement($e,{label:"Tier",value:i.album.tier,onChange:s.albumVmChange}),l.a.createElement(Xe,{label:"Note",value:i.album.note,onChange:s.albumVmChange}),l.a.createElement(lt,{label:"Tags",value:i.album.tags,items:a.tags,onChange:s.albumVmChange}),l.a.createElement(lt,{label:"Languages",value:i.album.languages,items:a.languages,onChange:s.albumVmChange}),l.a.createElement(nt,{label:"IsRead",value:i.album.isRead,onChange:s.albumVmChange}),l.a.createElement(nt,{label:"IsWip",value:i.album.isWip,onChange:s.albumVmChange})):"loading..."),l.a.createElement("div",{className:"my-ant-modal-footer"},l.a.createElement(d.a,null,l.a.createElement(p.a,{span:5},l.a.createElement(f.a,{onClick:s.delete,type:"danger",style:{width:"100%"}},"Delete")),l.a.createElement(p.a,{span:1}),l.a.createElement(p.a,{span:5},l.a.createElement(f.a,{onClick:s.refresh,type:"ghost",style:{width:"100%",color:"white"}},"Refresh")),l.a.createElement(p.a,{span:2}),l.a.createElement(p.a,{span:5},l.a.createElement(f.a,{onClick:s.editFiles,type:"ghost",style:{width:"100%",color:"white"}},"Files")),l.a.createElement(p.a,{span:1}),l.a.createElement(p.a,{span:5},l.a.createElement(f.a,{onClick:s.ok,type:"primary",style:{width:"100%"}},"Save"))))))));return l.a.createElement(l.a.Fragment,null,e.isOpen?m:"")})),it=a(211),ut=function(e){var t=e.children;return Object(it.useMediaQuery)({minWidth:801})?t:null},st=function(e){var t=e.children;return Object(it.useMediaQuery)({maxWidth:800})?t:null},mt=g.a.confirm,dt=a(69).default;var pt=Object(i.g)(M((function(e){console.log("albums rendering"),Object(n.useEffect)((function(){window.scrollTo(0,0)}),[]);var t=Object(n.useState)([]),a=Object(u.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(0),i=Object(u.a)(o,2),s=i[0],m=i[1],f=function(){return new Promise((function(t,a){var n=e.queryParts,l=n.page,r=n.row,o=n.query;dt.get(X(0,l,r,o)).then((function(e){c(e.data),t("param from resolve")})).catch((function(t){e.popApiError(t),a("param from reject")}))}))};Object(n.useEffect)((function(){f()}),[e.queryParts]);var h=Object(n.useState)([]),g=Object(u.a)(h,2),b=g[0],E=g[1];Object(n.useEffect)((function(){var t=(null===e.tierFilter?r:r.filter((function(t){return t.tier===e.tierFilter}))).slice(0,100*s);E(t)}),[r,s,e.tierFilter]);var v=Object(n.useState)(!1),y=Object(u.a)(v,2),x=y[0],C=y[1];Object(n.useEffect)((function(){var e=document.body;e.style.overflow=x?"hidden":"visible"}),[x]);var O=Object(n.useState)(null),w=Object(u.a)(O,2),j=w[0],k=w[1],P={view:function(e){console.log("view",e),k(e),C(!0)},close:function(t,a){console.log("readerHandler close triggered"),C(!1),dt.post(ee(0),{albumPath:t,lastPageIndex:a}).then((function(e){})).catch((function(t){e.popApiError(t)})),c(r.map((function(e,n){return e.path!==t?e:Object(A.a)({},e,{lastPageIndex:a,isRead:a===e.pageCount-1||e.isRead})})))}},I=Object(n.useState)(!1),S=Object(u.a)(I,2),D=S[0],T=S[1],N=Object(n.useState)(void 0),F=Object(u.a)(N,2),L=F[0],M=F[1],B={edit:function(e){T(!0),M(e)},pageDeleteSuccess:function(e){c(r.map((function(t,a){return t.path!==e?t:Object(A.a)({},t,{pageCount:t.pageCount-1})})))},chapterDeleteSuccess:function(e,t){c(r.map((function(a,n){return a.path!==e?a:Object(A.a)({},a,{pageCount:t,lastPageIndex:0})})))}},q={ok:function(t){T(!1),dt.post("".concat(H,"UpdateAlbum"),t).then((function(e){console.log("edit success. Path: ",e.data);var a=Object(Oe.a)(r),n=a.findIndex((function(e){return e.path===t.path}));a[n].fullTitle="[".concat(t.album.artists.join(", "),"] ").concat(t.album.title),a[n].languages=t.album.languages,a[n].note=t.album.note,c(a)})).catch((function(t){e.popApiError(t)}))},cancel:function(){T(!1)},delete:function(t){var a=t.album;mt({title:"Delete album [".concat(a.artists.join(", "),"] ").concat(a.title,"?"),icon:l.a.createElement(Te.a,null),okText:"\xa0\xa0\xa0YES\xa0\xa0\xa0",okType:"danger",cancelText:"\xa0\xa0\xa0NO\xa0\xa0\xa0",onOk:function(){dt.delete(function(e,t){var a=encodeURIComponent(t);return Z(e,"DeleteAlbum?path=".concat(a))}(0,t.path)).then((function(e){T(!1),c(r.filter((function(e){return e.path!==t.path})))})).catch((function(t){T(!1),e.popApiError(t)}))},onCancel:function(){}})},refresh:function(t){T(!1),dt.get(te(0,t.path)).then((function(t){e.popInfo("Refresh Album",t.data,null)})).catch((function(t){e.popApiError(t)}))},editFiles:function(t){T(!1),e.history.push("FileManagement?path="+t.path)}};return l.a.createElement(l.a.Fragment,null,l.a.createElement(Qe.a,{onRefresh:f},l.a.createElement(d.a,{gutter:0,type:"flex"},b.map((function(e,t){return l.a.createElement(p.a,{style:{textAlign:"center"},lg:3,md:6,xs:12,key:"albumCol"+e.path},l.a.createElement(de,{index:t,albumCm:e,onView:P.view,onEdit:B.edit,showContextMenu:!0}))}))),l.a.createElement(R.a,{as:"div",onChange:function(e,t){console.log("inViewChange",t),t.isIntersecting&&m(s+1)}},l.a.createElement("div",{style:{width:"100%",height:"5px",backgroundColor:"transparent"}}))),l.a.createElement("div",{style:{position:"fixed",top:0,backgroundColor:"rgba(0,0,0,0)"}},l.a.createElement(st,null,l.a.createElement("div",{style:{position:"relative",height:"38px"}})),l.a.createElement("div",{style:{position:"relative",backgroundColor:"#2d2d2d"}},"Total: ".concat(r.length," Filtered: ").concat(b.length))),l.a.createElement(Ke,{isOpen:x,onClose:P.close,onPageDeleteSuccess:B.pageDeleteSuccess,onChapterDeleteSuccess:B.chapterDeleteSuccess,albumCm:j}),l.a.createElement(ot,{isOpen:D,albumPath:L,onOk:q.ok,onCancel:q.cancel,onDelete:q.delete,onRefresh:q.refresh,onEditFiles:q.editFiles}))})));var ft=function(e){var t="Genres"===e.page?"".concat(H,"GetGenreCardModels"):"Artists"===e.page?"".concat(H,"GetFeaturedArtistCardModels"):null,a=Object(T.b)(t),n=a.data;if(a.error)return l.a.createElement("div",null,"error!");if(!n)return l.a.createElement("div",null,"loading...");var r={view:function(t){console.log("query click",t),e.history.push("/albums?query="+t.path)}};return l.a.createElement(l.a.Fragment,null,n.map((function(t,a){return l.a.createElement(d.a,{key:"acgRow"+t.name,gutter:0,type:"flex",style:{border:"1px solid rgb(83, 83, 83)",borderRadius:"8px",paddingTop:"8px",marginBottom:"5px"}},"This feature is cancelled"===e.page?l.a.createElement("div",{style:{position:"relative"}},l.a.createElement("div",{style:{position:"absolute",top:"-18px",left:"10px"}},t.name)):"",t.albumCms.map((function(e){return l.a.createElement(p.a,{style:{textAlign:"center"},lg:3,md:6,xs:12,key:"albumCol"+e.path},l.a.createElement(de,{index:a,albumCm:e,onView:r.view,onEdit:function(){},onDelete:function(){},showContextMenu:!1}))})))})))},ht=a(39),gt=a(4),bt=a(1061),Et=a(205),vt=a(514),yt=(g.a.confirm,a(69).default);var xt=Ve(M((function(e){var t=[Object(gt.h)({id:"custom_rename",requiresSelection:!0,button:{name:"R",toolbar:!0,contextMenu:!0,icon:gt.b.code}}),Object(gt.h)({id:"custom_delete",requiresSelection:!0,button:{name:"D",toolbar:!0,contextMenu:!0,icon:gt.b.trash}}),Object(gt.h)({id:"custom_move",requiresSelection:!0,button:{name:"M",toolbar:!0,contextMenu:!0,icon:gt.b.folder}}),gt.a.EnableGridView,gt.a.EnableListView,gt.a.UploadFiles,gt.a.CreateFolder],a={createFolder:function(t){s({visible:!0,btnText:"Create Folder",initialValue:"",onOk:function(t,a){console.log("folder name",t),h((function(a){return null!==f.subDir&&e.popError("Invalid Operation","Creating folder inside a folder is not allowed"),a.fsNodes.unshift({name:t,size:0,nodeType:0,uncPathEncoded:null,childs:[]}),Object(Me.a)({},a)}))}})},openFolder:function(e){if(e.payload.targetFile.isDir){var t="Root"!==e.payload.targetFile.name?e.payload.targetFile.name:null,a=null!==t?[].concat(Object(ht.a)(f.dirChains),[{id:"1",name:t,isDir:!0}]):m;h((function(e){return e.subDir=t,e.dirChains=a,Object(Me.a)({},e)}))}},delete:function(t){var a,n=t.state.selectedFiles[0],l=null===(a=f.dirChains.find((function(e){return"1"===e.id})))||void 0===a?void 0:a.name,r=function(){var e=n.isDir?n.name:z([l,n.name],"\\");return{albumPath:f.albumPath,alRelPath:e}}();e.deletePage(r,(function(e){console.log("delete success",e);var t=n.isDir||null==l?f.fsNodes.filter((function(e){return e.name!==n.name})):(f.fsNodes.forEach((function(e){e.name===l&&(e.childs=e.childs.filter((function(e){return e.name!==n.name})))})),f.fsNodes);h((function(e){return Object(Me.a)({},e,{fsNodes:t})}))}),(function(t){e.popApiError(t)}))},rename:function(t){0!==t.state.selectedFiles.length&&s({visible:!0,btnText:"Rename",initialValue:t.state.selectedFiles[0].name,onOk:function(t,a){var n=z([f.subDir,a],"\\"),l=z([f.subDir,t],"\\"),c={overwrite:!1,src:{albumPath:f.albumPath,alRelPath:n},dst:{albumPath:f.albumPath,alRelPath:l}};e.movePage(c,(function(e){r.move(c)}),(function(t){e.popApiError(t)}))}})},dragNDrop:function(t){if(!t.payload.draggedFile.isDir&&t.payload.destination.isDir){var a=t.payload.draggedFile.name,n=z([f.subDir,a],"\\"),l=z(["Root"!==t.payload.destination.name?t.payload.destination.name:null,a],"\\"),c={overwrite:!1,src:{albumPath:f.albumPath,alRelPath:n},dst:{albumPath:f.albumPath,alRelPath:l}};e.movePage(c,(function(e){r.move(c)}),(function(t){e.popApiError(t)}))}}},r={move:function(e){e.src.albumPath;var t=c(e.src.alRelPath),a=c(e.dst.alRelPath),n=function(){if(null===t.subDir){var e=f.fsNodes.findIndex((function(e){return e.name===t.fileName}));return f.fsNodes.splice(e,1)[0]}var a=f.fsNodes.findIndex((function(e){return e.name===t.subDir})),n=f.fsNodes[a].childs.findIndex((function(e){return e.name===t.fileName}));return f.fsNodes[a].childs.splice(n,1)[0]}(),l=Object(Me.a)({},n,{name:a.fileName}),r=(function(){if(null===a.subDir){var e=f.fsNodes.findIndex((function(e){return e.name===a.fileName}));if(-1!==e)f.fsNodes.splice(e,1)[0]}else{var t=f.fsNodes.findIndex((function(e){return e.name===a.subDir})),n=f.fsNodes[t].childs.findIndex((function(e){return e.name===a.fileName}));if(-1!==n)f.fsNodes[t].childs.splice(n,1)[0]}}(),null!==a.subDir?f.fsNodes.findIndex((function(e){return e.name===a.subDir})):null);function c(e){var t=e.split("\\");return 2===t.length?{subDir:t[0],fileName:t[1]}:{subDir:null,fileName:t[0]}}function o(e,t){if(e.nodeType===t.nodeType){var a=e.name.toLowerCase(),n=t.name.toLowerCase();return a<n?-1:a>n?1:0}return e.nodeType>t.nodeType?1:-1}null!==r?(f.fsNodes[r].childs.push(l),f.fsNodes[r].childs.sort(o)):(f.fsNodes.push(l),f.fsNodes.sort(o)),h((function(e){return Object(Me.a)({},e)}))}},c={visible:!1,initialValue:"ad",btnText:null},o=Object(n.useState)(c),i=Object(N.a)(o,2),u=i[0],s=i[1],m=[{id:"0",name:"Root",isDir:!0}],d=Object(n.useState)({albumPath:null,title:"",subDir:null,fsNodes:[],dirChains:m}),p=Object(N.a)(d,2),f=p[0],h=p[1];Object(n.useEffect)((function(){""!==e.path&&null!==e.path&&void 0!==e.path&&yt.get(function(e,t){var a=encodeURIComponent(t);return Z(e,"GetAlbumFsNodes?path=".concat(a))}(e.type,e.path)).then((function(t){h({albumPath:e.path,title:t.data.title,subDir:null,fsNodes:t.data.fsNodes,dirChains:m}),console.log(t.data)})).catch((function(t){e.popApiError(t)}))}),[e.path]);var g=Object(n.useState)([]),b=Object(N.a)(g,2),E=b[0],v=b[1];Object(n.useEffect)((function(){var e=(null!==f.subDir?f.fsNodes.find((function(e){return e.name===f.subDir})).childs:f.fsNodes).map((function(e,t){var a;return{id:t+1,name:e.name,isDir:0===e.nodeType,thumbnailUrl:1===e.nodeType?oe(e.uncPathEncoded,150):null,size:e.size,childrenCount:null===(a=e.childs)||void 0===a?void 0:a.length,selectable:!0,draggable:0!==e.nodeType}}));v(e)}),[f]);var y=Object(it.useMediaQuery)({maxWidth:800})?vt.a:Et.a;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{width:"100%",padding:"0px 8px 0px 8px",borderTop:"1px solid grey",borderBottom:"1px solid grey",marginBottom:"2px"}},l.a.createElement("h3",null,f.title)),l.a.createElement("div",{style:{height:"80vh"}},l.a.createElement(bt.a,{backend:y},l.a.createElement(gt.c,{darkMode:!0,files:E,folderChain:f.dirChains,fileActions:t,disableDragAndDropProvider:!0,disableDefaultFileActions:!0,onFileAction:function(e){"custom_delete"===e.id?a.delete(e):"custom_rename"===e.id?a.rename(e):"custom_move"===e.id?console.log(e.id):e.id===gt.a.EndDragNDrop.id?a.dragNDrop(e):e.id===gt.a.UploadFiles.id?console.log(e.id):e.id===gt.a.OpenFiles.id?a.openFolder(e):e.id===gt.a.OpenParentFolder.id?console.log(e.id):e.id===gt.a.CreateFolder.id&&a.createFolder(e)}},l.a.createElement(gt.f,null),l.a.createElement(gt.g,null),l.a.createElement(gt.e,null),l.a.createElement(gt.d,null)))),l.a.createElement(Ce,{visible:u.visible,onClose:function(){return s(c)},initialValue:u.initialValue,onOk:u.onOk,btnText:u.btnText}))}))),Ct=a(1062),Ot=a(1064),wt=a(438),jt=a(513),kt=a(69).default,Pt=Object(wt.a)({height:300,width:"100%"});var It=M((function(e){function t(t,a,n,l){return{isLoading:!1,percent:0,eventMsgs:[],text:t,icon:a,execute:function(){var t,a;t=n,a=!0,i((function(e){return e[t].isLoading=a,e[t].progress=a?0:100,Object(A.a)({},e)}));var r=new EventSource(l,{});r.onmessage=function(t){var a=JSON.parse(t.data);console.log("res data",a);var l=a.currentStep!==a.maxStep;l||r.close(),a.isError&&e.popError("API Error",a.message);var c=q(a.currentStep,a.maxStep);i((function(e){return e[n].percent=c,e[n].isLoading=l,e[n].eventMsgs.push(a),Object(A.a)({},e)}))}}}}var a,r=Object(n.useState)({reload:t("Reload","reload","reload",Z(a,"ReloadDatabase")),fullScan:t("Full Scan","sync","fullScan",ne()),quickScan:t("Quick Scan","history","quickScan",le()),clean:t("Clean Library","delete","clean",re()),checkApiUrl:{isLoading:!1,percent:0,eventMsgs:[],text:"Check Url",icon:"check-circle",execute:null},checkMediaUrl:{isLoading:!1,percent:0,eventMsgs:[],text:"Check Url",icon:"check-circle",execute:null},checkResMediaUrl:{isLoading:!1,percent:0,eventMsgs:[],text:"Check Url",icon:"check-circle",execute:null}}),c=Object(u.a)(r,2),o=c[0],i=c[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(St,e),l.a.createElement(Ct.a,{orientation:"left",style:{color:"white"}},"Actions"),l.a.createElement(Dt,o.reload),l.a.createElement(Dt,o.fullScan),l.a.createElement(Dt,o.quickScan),l.a.createElement(Dt,o.clean),l.a.createElement(Ct.a,{orientation:"left",style:{color:"white"}},"Event Stream"))}));function St(e){var t=Object(n.useState)(null),a=Object(u.a)(t,2),r=a[0],c=a[1];Object(n.useEffect)((function(){c(J)}),[]);var o=Object(n.useState)(null),i=Object(u.a)(o,2),s=i[0],m=i[1];Object(n.useEffect)((function(){m(W)}),[]);var d=Object(n.useState)(null),p=Object(u.a)(d,2),h=p[0],g=p[1];function b(t){kt.get(t).then((function(t){e.popInfo("".concat(t.status," ").concat(t.statusText),"",t.data)})).catch((function(t){e.popApiError(t)}))}return Object(n.useEffect)((function(){g(Y)}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(Tt,{textAlign:"right",col0:l.a.createElement(E,{text:"API"}),col1:l.a.createElement(xe.a.Search,{value:r,onChange:function(e){c(e.target.value)},onSearch:function(){b(r)},disabled:!0,enterButton:!0})}),l.a.createElement(Tt,{textAlign:"right",col0:l.a.createElement(E,{text:"Media"}),col1:l.a.createElement(xe.a.Search,{value:s,onChange:function(e){m(e.target.value)},onSearch:function(){b(s)},disabled:!0,enterButton:!0})}),l.a.createElement(Tt,{textAlign:"right",col0:l.a.createElement(E,{text:"Res Media"}),col1:l.a.createElement(xe.a.Search,{value:h,onChange:function(e){g(e.target.value)},onSearch:function(){b(h)},disabled:!0,enterButton:!0})}),l.a.createElement(Tt,{textAlign:"right",col1:l.a.createElement(f.a,{type:"primary",onClick:function(){var e;e=r,window.localStorage.setItem("apiBaseUrl",e),function(e){window.localStorage.setItem("mediaBaseUrl",e)}(s),function(e){window.localStorage.setItem("resMediaBaseUrl",e)}(h)},style:{width:"100%",maxWidth:"100px"},disabled:!0},"Save")}));function E(e){var t={paddingTop:"4px",fontWeight:"bold"};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:Object(A.a)({float:"left"},t)},e.text),l.a.createElement("div",{style:Object(A.a)({float:"right"},t)},":"))}}function Dt(e){e.eventMsgs.map((function(e){return e.message})).join("\n");return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{display:"flex",flexDirection:"row",marginBottom:"5px"}},l.a.createElement("div",{style:{width:"130px"}},l.a.createElement(f.a,{icon:e.icon,type:"primary",loading:e.isLoading,onClick:e.execute,block:!0,style:{width:"100%",maxWidth:"140px"},disabled:!0},e.text)),l.a.createElement("div",{style:{height:"32px",flex:"auto",marginLeft:"10px",display:"flex",justifyContent:"flex-end",flexDirection:"column"}},l.a.createElement(Ot.a,{strokeLinecap:"square",percent:e.percent}))),l.a.createElement("div",{hidden:0===e.eventMsgs.length,style:{display:"flex",flexDirection:"row",marginBottom:"5px"}},l.a.createElement("div",{style:{width:"130px"}}),l.a.createElement("div",{style:{flex:"auto",marginLeft:"10px",paddingRight:"32px"}},l.a.createElement(jt.a,{className:Pt},e.eventMsgs.map((function(e){return l.a.createElement("p",{style:{marginBottom:"0.2em"}},e.message)}))))))}function Tt(e){var t,a={display:"flex",flexDirection:"row",marginBottom:"5px",textAlign:null!==(t=e.textAlign)&&void 0!==t?t:"left"};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:a},l.a.createElement("div",{style:{width:"130px"}},e.col0),l.a.createElement("div",{style:{height:"32px",flex:"auto",marginLeft:"10px",display:"flex",justifyContent:"flex-end",flexDirection:"column"}},e.col1)))}s.a.Header;var At=s.a.Content,Nt=s.a.Footer,Ft=s.a.Sider,Rt=m.a.SubMenu;var Lt=Object(i.g)(M((function(e){var t,a,r,c,i=Object(n.useState)(!1),g=Object(u.a)(i,2),O=g[0],w=g[1],j=Object(n.useState)(!1),k=Object(u.a)(j,2),P=k[0],I=k[1],S=Object(n.useState)(null),A=Object(u.a)(S,2),N=A[0],F=A[1],R=function(e){F(e===N?null:e)},L=null!==(t=D.a.parse(e.location.search).query)&&void 0!==t?t:"",M=null!==(a=D.a.parse(e.location.search).page)&&void 0!==a?a:0,B=null!==(r=D.a.parse(e.location.search).row)&&void 0!==r?r:0,q=null!==(c=D.a.parse(e.location.search).path)&&void 0!==c?c:"";console.log("master page rendering");var U={query:L,page:M,row:B,path:q},z=function(){function t(e,t){return{page:e,selectedMenu:t}}if("Sc"===e.page)return t(l.a.createElement(Ze,{queryParts:U,tierFilter:N}),"1");if("Albums"===e.page)return t(l.a.createElement(pt,{queryParts:U,tierFilter:N}),"2");if("Artists"===e.page)return t(l.a.createElement(ft,{page:e.page,history:e.history}),"3");if("Genres"===e.page)return t(l.a.createElement(ft,{page:e.page,history:e.history}),"4");if("FileManagement"===e.page){var a,n=null!==(a=D.a.parse(e.location.search).path)&&void 0!==a?a:"";return t(l.a.createElement(xt,{path:n}),"")}return"Setting"===e.page?t(l.a.createElement(It,{page:e.page}),"5"):void 0}(),V=z.page,G=z.selectedMenu,J={search:function(e){var t=function(e,t){var a=0;return t.forEach((function(t){a+=e.includes(t)})),1===a}(e.split(",")[0],[":","!",">","<"])?e:"title:"+e;J.goToAlbumList(t)},plus:function(e){var t="tag:"+e,a="tag!"+e,n=(""!==L?L.split(","):[]).filter((function(e,n){return!(e===t||e===a)}));n.push(t);var l=n.join(",");J.goToAlbumList(l)},minus:function(e){var t="tag:"+e,a="tag!"+e,n=(""!==L?L.split(","):[]).filter((function(e,n){return!(e===t||e===a)}));n.push(a);var l=n.join(",");J.goToAlbumList(l)},goToAlbumList:function(t){var a=new URLSearchParams(window.location.search);a.set("query",t),e.history.push("Albums?"+a.toString())}},W=l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"logo"}),l.a.createElement(qt,{query:L,onOk:function(e){return J.goToAlbumList(e)}}),l.a.createElement(m.a,{theme:"dark",defaultSelectedKeys:[G],defaultOpenKeys:["sub1"],mode:"inline"},"",l.a.createElement(m.a.Item,{key:"2"},l.a.createElement(o.b,{to:"/albums"},l.a.createElement(b.a,null),l.a.createElement("span",null,"Albums"))),l.a.createElement(m.a.Item,{key:"3"},l.a.createElement(o.b,{to:"/artists"},l.a.createElement(E.a,null),l.a.createElement("span",null,"Artists"))),l.a.createElement(m.a.Item,{key:"4"},l.a.createElement(o.b,{to:"/genres"},l.a.createElement(v.a,null),l.a.createElement("span",null,"Genres"))),l.a.createElement(Rt,{key:"sub1",title:l.a.createElement(l.a.Fragment,null,l.a.createElement(y.a,null),l.a.createElement("span",null,"Tags"))},l.a.createElement(Mt,{onPlus:J.plus,onMinus:J.minus,querStr:L})),l.a.createElement(m.a.Item,{key:"5"},l.a.createElement(o.b,{to:"/setting"},l.a.createElement(x.a,null),l.a.createElement("span",null,"Setting"))))),Y=function(e,t){var a=t===N;return"type"===e?a?"primary":"link":a};return l.a.createElement(T.a,{value:{revalidateOnFocus:!1,fetcher:function(e){return fetch(e).then((function(e){return e.json()}))}}},l.a.createElement(s.a,{style:{minHeight:"100vh"}},l.a.createElement(st,null,l.a.createElement(s.a,{className:"mobile-header"},l.a.createElement(d.a,null,l.a.createElement(p.a,{span:6,className:"headerbutton-container"},l.a.createElement(f.a,{onClick:function(){return R(1)},type:Y("type",1),ghost:Y("ghost",1),style:{width:"100%"}},"Tier 1")),l.a.createElement(p.a,{span:6,className:"headerbutton-container"},l.a.createElement(f.a,{onClick:function(){return R(2)},type:Y("type",2),ghost:Y("ghost",2),style:{width:"100%"}},"Tier 2")),l.a.createElement(p.a,{span:6,className:"headerbutton-container"},l.a.createElement(f.a,{onClick:function(){return R(3)},type:Y("type",3),ghost:Y("ghost",3),style:{width:"100%"}},"Tier 3")),l.a.createElement(p.a,{span:6,className:"hamburger-container",onClick:function(){return w(!0)}},l.a.createElement(C.a,{className:"hamburger"})))),l.a.createElement(h.a,{placement:"right",closable:!1,onClose:function(){return w(!1)},visible:O},W)),l.a.createElement(ut,null,l.a.createElement(Ft,{collapsible:!0,collapsed:P,onCollapse:function(e){return I(e)}},W)),l.a.createElement(s.a,{className:"site-layout"},l.a.createElement(At,null,l.a.createElement(st,null,l.a.createElement("div",{style:{paddingTop:"5x"}},"Padding for mobile")),l.a.createElement("div",{className:"site-layout-background",style:{paddingTop:25,paddingLeft:10,paddingRight:10,minHeight:360}},V)),l.a.createElement(Nt,{style:{textAlign:"center"}},"-----------------"))))})));function Mt(e){var t=Object(T.b)("".concat(H,"GetTagVMs")),a=t.data;return t.error?l.a.createElement("div",null,"error!"):a?l.a.createElement(l.a.Fragment,null,a.map((function(t,a){return l.a.createElement(Bt,{key:t.name,tag:t,onPlus:e.onPlus,onMinus:e.onMinus,selectStatus:n(t.name,e.querStr)})}))):l.a.createElement("div",null,"loading...");function n(e,t){var a=t.split(",");return a.filter((function(t){return t.toLowerCase().includes("tag:"+e.toLowerCase())})).length>0?"plus":a.filter((function(t){return t.toLowerCase().includes("tag!"+e.toLowerCase())})).length>0?"minus":"none"}}function Bt(e){var t=encodeURIComponent(e.tag.query),a="plus"===e.selectStatus?"#1890ff":"",n="minus"===e.selectStatus?"#1890ff":"";return l.a.createElement("li",{className:"ant-menu-item",role:"menuitem",style:{paddingLeft:"24px",paddingRight:"0px",height:"28px",marginTop:"0px",marginBottom:"0px"}},l.a.createElement(d.a,null,l.a.createElement(p.a,{span:5,style:{textAlign:"center"},onClick:function(){return e.onPlus(e.tag.name)}},l.a.createElement(O.a,{style:{marginRight:"0px",backgroundColor:a}})),l.a.createElement(o.b,{to:"/albums?query="+t},l.a.createElement(p.a,{span:14},l.a.createElement("span",{style:{fontSize:"12px"}},e.tag.name))),l.a.createElement(p.a,{span:5,style:{textAlign:"center"},onClick:function(){return e.onMinus(e.tag.name)}},l.a.createElement(w.a,{style:{marginRight:"0px",backgroundColor:n}}))))}function qt(e){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),r=a[0],c=a[1],o=Object(n.useState)(""),i=Object(u.a)(o,2),s=i[0],m=i[1];return Object(n.useEffect)((function(){m(e.query)}),[e.query]),l.a.createElement("div",{style:{paddingLeft:"24px"}},l.a.createElement(f.a,{type:"link",onClick:function(){return c(!0)},style:{width:"90%",textAlign:"left",padding:"0px"}},l.a.createElement(j.a,null),"Query Editor"),l.a.createElement(g.a,{visible:r,onCancel:function(){return c(!1)},closable:!1,footer:l.a.createElement(f.a,{type:"primary",onClick:function(){c(!1),e.onOk(s)}},l.a.createElement(k.a,null),"Search")},l.a.createElement(I.a,{onChange:function(e){return m(e.target.value)},value:s})))}var Ut=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(o.a,null,l.a.createElement(i.d,null,l.a.createElement(i.b,{exact:!0,path:"/"},l.a.createElement(i.a,{to:"/genres"})),l.a.createElement(i.b,{exact:!0,path:"/sc"},l.a.createElement(Lt,{page:"Sc"})),l.a.createElement(i.b,{exact:!0,path:"/albums"},l.a.createElement(Lt,{page:"Albums"})),l.a.createElement(i.b,{exact:!0,path:"/artists"},l.a.createElement(Lt,{page:"Artists"})),l.a.createElement(i.b,{exact:!0,path:"/genres"},l.a.createElement(Lt,{page:"Genres"})),l.a.createElement(i.b,{exact:!0,path:"/filemanagement"},l.a.createElement(Lt,{page:"FileManagement"})),l.a.createElement(i.b,{exact:!0,path:"/setting"},l.a.createElement(Lt,{page:"Setting"})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var zt=a(515),Vt=function(){Object(gt.i)({iconComponent:zt.a}),c.a.render(l.a.createElement(Ut,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))};window.cordova?document.addEventListener("deviceready",Vt,!1):Vt()},428:function(e,t,a){e.exports=a.p+"static/media/loading.d47e58c7.gif"},526:function(e,t,a){e.exports=a(1021)},531:function(e,t,a){},533:function(e,t,a){}},[[526,1,2]]]);
//# sourceMappingURL=main.953b1b49.chunk.js.map